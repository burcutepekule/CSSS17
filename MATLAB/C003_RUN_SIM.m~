clear all;close all;clc;
% SYSTEM PARAMETERS
N  = 5; % Num of Species
PN = 1; % Num of Patches
S  = 5; % Abundance of species for each species for each patch
J  = generateSymbolicJacobian(N,PN);
X  = S*ones(N,PN);
numOfSims = 100;
mu        = -0.1;
[MAll,AAll] = generateMatrices(numOfSims,N,PN,mu,'normal','zero'); %Generate all the matrices so we can trace it back
% MAll        = zeros(size(MAll));
%%
eigVals = [];
eigValsNorm = [];
for sims=1:numOfSims
    100*sims/numOfSims
    A = AAll{sims};
    M = MAll{sims};
    J_out=double(insertJ(J,N,PN,X,A,M));
%     eigVals(:,sims) = real(eigs(J_out));
    eigValsNorm(:,sims) = eigs(J_out)./abs(eigs(J_out);
    plot(real(eigValsNorm(:,sims)),imag(eigValsNorm(:,sims)),'o')
    hold on;
end
grid on;